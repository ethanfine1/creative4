{"remainingRequest":"/Users/ethanfine/reading-list/front-end/node_modules/babel-loader/lib/index.js!/Users/ethanfine/reading-list/front-end/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ethanfine/reading-list/front-end/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ethanfine/reading-list/front-end/src/views/Myadmin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ethanfine/reading-list/front-end/src/views/Myadmin.vue","mtime":1607643638504},{"path":"/Users/ethanfine/reading-list/front-end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ethanfine/reading-list/front-end/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/ethanfine/reading-list/front-end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ethanfine/reading-list/front-end/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9ldGhhbmZpbmUvcmVhZGluZy1saXN0L2Zyb250LWVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQWRtaW4nLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogJycsCiAgICAgIGJlc3RNb21lbnRzOiAnJywKICAgICAgZmVhdHVyZXM6ICcnLAogICAgICB1cmw6ICcnLAogICAgICBmaWxlOiBudWxsLAogICAgICBlcnJvcjogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBmaWxlQ2hhbmdlZDogZnVuY3Rpb24gZmlsZUNoYW5nZWQoZXZlbnQpIHsKICAgICAgdGhpcy5maWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdOwogICAgICB0aGlzLnVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwodGhpcy5maWxlKTsKICAgIH0sCiAgICB0b2dnbGVGb3JtOiBmdW5jdGlvbiB0b2dnbGVGb3JtKCkgewogICAgICB0aGlzLmNyZWF0aW5nID0gIXRoaXMuY3JlYXRpbmc7CiAgICB9LAogICAgY2hvb3NlUG9kY2FzdDogZnVuY3Rpb24gY2hvb3NlUG9kY2FzdCgpIHsKICAgICAgdGhpcy4kcmVmcy5maWxlSW5wdXQuY2xpY2soKTsKICAgIH0sCiAgICB1cGxvYWQ6IGZ1bmN0aW9uIHVwbG9hZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGZvcm1EYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coImluIHVwbG9hZCIpOwogICAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgncG9kY2FzdCcsIF90aGlzLmZpbGUsIF90aGlzLmZpbGUubmFtZSk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3RpdGxlJywgX3RoaXMudGl0bGUpOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdiZXN0TW9tZW50cycsIF90aGlzLmJlc3RNb21lbnRzKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmVhdHVyZXMnLCBfdGhpcy5mZWF0dXJlcyk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCIvYXBpL3BvZGNhc3RzIiwgZm9ybURhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiYWZ0ZXIiKTsKICAgICAgICAgICAgICAgIF90aGlzLmZpbGUgPSBudWxsOwogICAgICAgICAgICAgICAgX3RoaXMudXJsID0gIiI7CiAgICAgICAgICAgICAgICBfdGhpcy50aXRsZSA9ICIiOwogICAgICAgICAgICAgICAgX3RoaXMuYmVzdE1vbWVudHMgPSAiIjsKICAgICAgICAgICAgICAgIF90aGlzLmZlYXR1cmVzID0gIiI7CgogICAgICAgICAgICAgICAgX3RoaXMuJGVtaXQoJ3VwbG9hZEZpbmlzaGVkJyk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTg7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgX3RoaXMuZXJyb3IgPSAiRXJyb3I6ICIgKyBfY29udGV4dC50MC5yZXNwb25zZS5kYXRhLm1lc3NhZ2U7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDE4XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Myadmin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,WAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,GAAA,EAAA,EAJA;AAKA,MAAA,IAAA,EAAA,IALA;AAMA,MAAA,KAAA,EAAA;AANA,KAAA;AAQA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,KADA,EACA;AACA,WAAA,IAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,WAAA,GAAA,GAAA,GAAA,CAAA,eAAA,CAAA,KAAA,IAAA,CAAA;AACA,KAJA;AAKA,IAAA,UALA,wBAKA;AACA,WAAA,QAAA,GAAA,CAAA,KAAA,QAAA;AACA,KAPA;AAQA,IAAA,aARA,2BAQA;AACA,WAAA,KAAA,CAAA,SAAA,CAAA,KAAA;AACA,KAVA;AAWA,IAAA,MAXA,oBAWA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,gBAAA,OAAA,CAAA,GAAA,CAAA,WAAA;AACA,gBAAA,QAHA,GAGA,IAAA,QAAA,EAHA;AAIA,gBAAA,QAAA,CAAA,MAAA,CAAA,SAAA,EAAA,KAAA,CAAA,IAAA,EAAA,KAAA,CAAA,IAAA,CAAA,IAAA;AACA,gBAAA,QAAA,CAAA,MAAA,CAAA,OAAA,EAAA,KAAA,CAAA,KAAA;AACA,gBAAA,QAAA,CAAA,MAAA,CAAA,aAAA,EAAA,KAAA,CAAA,WAAA;AACA,gBAAA,QAAA,CAAA,MAAA,CAAA,UAAA,EAAA,KAAA,CAAA,QAAA;AAPA;AAAA,uBAQA,KAAA,CAAA,IAAA,CAAA,eAAA,EAAA,QAAA,CARA;;AAAA;AASA,gBAAA,OAAA,CAAA,GAAA,CAAA,OAAA;AACA,gBAAA,KAAA,CAAA,IAAA,GAAA,IAAA;AAEA,gBAAA,KAAA,CAAA,GAAA,GAAA,EAAA;AACA,gBAAA,KAAA,CAAA,KAAA,GAAA,EAAA;AACA,gBAAA,KAAA,CAAA,WAAA,GAAA,EAAA;AACA,gBAAA,KAAA,CAAA,QAAA,GAAA,EAAA;;AACA,gBAAA,KAAA,CAAA,KAAA,CAAA,gBAAA;;AAhBA;AAAA;;AAAA;AAAA;AAAA;AAkBA,gBAAA,KAAA,CAAA,KAAA,GAAA,YAAA,YAAA,QAAA,CAAA,IAAA,CAAA,OAAA;;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBA;AA/BA;AAZA,CAAA","sourcesContent":["<template>\n<div>\n    <input v-model=\"title\" placeholder=\"Title\">\n    <p></p>\n    <textarea v-model=\"bestMoments\" placeholder=\"Time stamp the best moments with a description!\"></textarea>\n    <p></p>\n    <textarea v-model=\"features\" placeholder=\"Anyone featured on this podcast?\"></textarea>\n    <br />\n    <fieldset>\n          <div class=\"podcastInput\" @click=\"choosePodcast\">\n            <img v-if=\"url\" :src=\"url\" />\n            <div v-if=\"!url\" class=\"placeholder\">\n              Choose a podcast\n            </div>\n            <input class=\"fileInput\" ref=\"fileInput\" type=\"file\" @input=\"fileChanged\">\n          </div>\n          <p v-if=\"error\" class=\"error\">{{error}}</p>\n        </fieldset>\n    <fieldset class=\"buttons\">\n        <button type=\"submit\" @click=\"upload\" class=\"pure-button pure-button-primary right\">Upload</button>\n      </fieldset>\n</div>\n</template>\n\n<script>\nimport axios from 'axios';\nexport default {\n  name: 'Admin',\n  data() {\n    return {\n      title: '',\n      bestMoments: '',\n      features: '',\n      url: '',\n      file: null,\n      error: '',\n    }\n  },\n  methods: {\n    fileChanged(event) {\n      this.file = event.target.files[0];\n      this.url = URL.createObjectURL(this.file);\n    },\n    toggleForm() {\n      this.creating = !this.creating;\n    },\n    choosePodcast() {\n        this.$refs.fileInput.click()\n      },\n      async upload() {\n        try {\n          console.log(\"in upload\");\n          const formData = new FormData();\n          formData.append('podcast', this.file, this.file.name);\n          formData.append('title', this.title);\n          formData.append('bestMoments', this.bestMoments);\n          formData.append('features', this.features);\n          await axios.post(\"/api/podcasts\", formData);\n          console.log(\"after\");\n          this.file = null;\n\n          this.url = \"\";\n          this.title = \"\";\n          this.bestMoments = \"\";\n          this.features = \"\";\n          this.$emit('uploadFinished');\n        } catch (error) {\n          this.error = \"Error: \" + error.response.data.message;\n        }\n      }\n  }\n}\n</script>\n\n<style>\n  .intro {\n    font-size: 1.7em;\n    margin-right: 100px;\n    margin-left: 100px;\n  }\n  h1 {\n    font-size: 2.5em;\n  }\n  input {\n    font-size: 1.2em;\n    height: 30px;\n    width: 200px;\n  }\n  textarea {\n    font-size: 1.6em;\n    width: 100%;\n    max-width: 500px;\n    height: 100px;\n  }\n</style>\n"],"sourceRoot":"src/views"}]}